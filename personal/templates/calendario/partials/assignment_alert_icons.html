{# Indicadores visuales reutilizables para las asignaciones del calendario #}
{% if cell.alert == 'critical' %}
  <span class="group relative inline-flex h-7 w-7 items-center justify-center">
    <span class="inline-flex h-7 w-7 items-center justify-center rounded-full border border-red-500 bg-red-100/60 text-red-700" role="img" aria-label="Crítico" tabindex="0">
      <svg aria-hidden="true" class="h-3.5 w-3.5" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.721-1.36 3.486 0l5.223 9.298c.75 1.334-.213 2.998-1.742 2.998H4.776c-1.53 0-2.492-1.664-1.743-2.998l5.224-9.298zM11 13a1 1 0 10-2 0 1 1 0 002 0zm-.25-5.75a.75.75 0 10-1.5 0v3.5a.75.75 0 001.5 0v-3.5z" clip-rule="evenodd" />
      </svg>
    </span>
    <span class="pointer-events-none absolute left-1/2 top-9 -translate-x-1/2 whitespace-nowrap rounded bg-slate-900 px-2 py-1 text-[10px] font-medium text-white opacity-0 shadow group-hover:opacity-100 group-focus-within:opacity-100">Operario sin autorización vigente. Corrige de inmediato.</span>
  </span>
{% elif cell.alert == 'warn' %}
  <span class="group relative inline-flex h-7 w-7 items-center justify-center">
    <span class="inline-flex h-7 w-7 items-center justify-center rounded-full border border-amber-400 bg-amber-100/60 text-amber-700" role="img" aria-label="Seguimiento" tabindex="0">
      <svg aria-hidden="true" class="h-3.5 w-3.5" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm0-4a1 1 0 100-2 1 1 0 000 2zm.75-7.5a.75.75 0 00-1.5 0v4a.75.75 0 001.5 0v-4z" clip-rule="evenodd" />
      </svg>
    </span>
    <span class="pointer-events-none absolute left-1/2 top-9 -translate-x-1/2 whitespace-nowrap rounded bg-slate-900 px-2 py-1 text-[10px] font-medium text-white opacity-0 shadow group-hover:opacity-100 group-focus-within:opacity-100">Operario habilitado a menor nivel. Monitorea su desempeño.</span>
  </span>
{% endif %}
{% if cell.skill_gap_message %}
  <span class="group relative inline-flex h-7 w-7 items-center justify-center">
    <span class="inline-flex h-7 w-7 items-center justify-center rounded-full border border-emerald-500 bg-emerald-100/70 text-emerald-700" role="img" aria-label="Asignación manual" tabindex="0">
      <svg aria-hidden="true" class="h-3.5 w-3.5" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.707a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
      </svg>
    </span>
    <span class="pointer-events-none absolute left-1/2 top-9 -translate-x-1/2 whitespace-nowrap rounded bg-slate-900 px-2 py-1 text-[10px] font-medium text-white opacity-0 shadow group-hover:opacity-100 group-focus-within:opacity-100">{{ cell.skill_gap_message }}</span>
  </span>
{% endif %}
{% if cell.is_overtime %}
  <span class="group relative inline-flex h-7 w-7 items-center justify-center">
    <span class="inline-flex h-7 w-7 items-center justify-center rounded-full border border-slate-500 bg-slate-900/10 text-slate-700" role="img" aria-label="Sobrecarga" tabindex="0">
      <svg aria-hidden="true" class="h-3.5 w-3.5" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h1.586A2 2 0 019 2.586L10.414 4H14a2 2 0 012 2v2h-2V6H6v8h4v2H6a2 2 0 01-2-2V4z" clip-rule="evenodd" />
        <path fill-rule="evenodd" d="M12 12a1 1 0 011-1h5.5a.5.5 0 01.5.5V13a1 1 0 01-.293.707l-4.5 4.5A1 1 0 0112 17.5V13a1 1 0 011-1z" clip-rule="evenodd" />
      </svg>
    </span>
    <span class="pointer-events-none absolute left-1/2 top-9 -translate-x-1/2 whitespace-nowrap rounded bg-slate-900 px-2 py-1 text-[10px] font-medium text-white opacity-0 shadow group-hover:opacity-100 group-focus-within:opacity-100">{{ cell.overtime_message|default:"Operario con sobrecarga consecutiva. Ajusta descansos." }}</span>
  </span>
{% endif %}
